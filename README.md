# Student Management REST API A comprehensive Student Management System built with Node.js, Express.js, and MongoDB. This API provides full CRUD operations for students and courses, JWT-based authentication, file upload capabilities, and advanced features like search, pagination, and filtering. ## Features ### Core Features - **Full CRUD Operations** for Students and Courses - **JWT-based Authentication** with role-based access control - **Student-Course Relationship Management** (enrollment/unenrollment) - **File Upload Support** for student profile pictures - **Input Validation** using express-validator - **Error Handling** with custom middleware - **Logging** with Winston - **Rate Limiting** for API protection ### Advanced Features - **Search Functionality** for courses - **Pagination & Filtering** for students and courses - **Department-wise Filtering** - **Course Statistics** - **Soft Delete** implementation - **Image Upload** with Multer - **Data Seeding** utility ## Technology Stack - **Runtime:** Node.js (v18+) - **Framework:** Express.js - **Database:** MongoDB with Mongoose ODM - **Authentication:** JSON Web Tokens (JWT) - **Validation:** express-validator - **File Upload:** Multer - **Logging:** Winston & Morgan - **Security:** bcryptjs, express-rate-limit - **Environment:** dotenv ## Project Structure `project/ ├── controllers/ # Route controllers │ ├── authController.js │ ├── studentController.js │ └── courseController.js ├── models/ # Mongoose models │ ├── User.js │ ├── Student.js │ └── Course.js ├── routes/ # Express routes │ ├── authRoutes.js │ ├── studentRoutes.js │ └── courseRoutes.js ├── middleware/ # Custom middleware │ ├── auth.js │ ├── errorHandler.js │ ├── upload.js │ └── validation.js ├── config/ # Configuration files │ └── database.js ├── utils/ # Utility functions │ └── seedData.js ├── uploads/ # File upload directory │ └── students/ ├── logs/ # Log files ├── .env # Environment variables ├── .env.example # Environment template ├── package.json ├── server.js # Main server file └── README.md` ## Getting Started ### Prerequisites - Node.js (v18 or higher) - MongoDB (local installation or MongoDB Atlas) - npm or yarn package manager ### Installation 1. **Clone the repository** `bash git clone <repository-url> cd student-management-api ` 2. **Install dependencies** `bash npm install ` 3. **Environment Setup** `bash cp .env.example .env ` 4. **Configure Environment Variables** Edit the `.env` file with your configuration: `env PORT=5000 NODE_ENV=development MONGODB_URI=mongodb://localhost:27017/student_management JWT_SECRET=your_super_secret_jwt_key_here JWT_EXPIRE=7d ` 5. **Start MongoDB** - For local MongoDB: `mongod` - For MongoDB Atlas: Use the connection string in MONGODB_URI 6. **Seed the Database (Optional)** `bash npm run seed ` 7. **Start the Server** `bash # Development mode npm run dev # Production mode npm start ` The server will start on `http://localhost:5000` ## Authentication ### Register Admin `http POST /api/auth/register Content-Type: application/json { "username": "admin", "email": "admin@example.com", "password": "admin123", "role": "admin" } ` ### Login `http POST /api/auth/login Content-Type: application/json { "email": "admin@example.com", "password": "admin123" } ` **Response:** `json { "success": true, "message": "Login successful", "data": { "user": { "id": "user_id", "username": "admin", "email": "admin@example.com", "role": "admin" }, "token": "jwt_token_here" } } ` ### Using the Token Include the JWT token in the Authorization header for all protected routes: `Authorization: Bearer <your_jwt_token>` ## API Documentation ### Authentication Routes | Method | Endpoint | Description | Access | |--------|----------|-------------|---------| | POST | `/api/auth/register` | Register new admin | Public | | POST | `/api/auth/login` | Login user | Public | | GET | `/api/auth/profile` | Get user profile | Private | | PUT | `/api/auth/profile` | Update profile | Private | | PUT | `/api/auth/change-password` | Change password | Private | | POST | `/api/auth/logout` | Logout user | Private | ### Student Routes | Method | Endpoint | Description | Access | |--------|----------|-------------|---------| | GET | `/api/students` | Get all students (with pagination) | Private | | GET | `/api/students/:id` | Get student by ID | Private | | POST | `/api/students` | Create new student | Private | | PUT | `/api/students/:id` | Update student | Private | | DELETE | `/api/students/:id` | Delete student (soft delete) | Private | | POST | `/api/students/:id/enroll/:courseId` | Enroll student in course | Private | | DELETE | `/api/students/:id/unenroll/:courseId` | Unenroll student from course | Private | | GET | `/api/students/department/:department` | Get students by department | Private | ### Course Routes | Method | Endpoint | Description | Access | |--------|----------|-------------|---------| | GET | `/api/courses` | Get all courses (with pagination) | Private | | GET | `/api/courses/:id` | Get course by ID | Private | | POST | `/api/courses` | Create new course | Private | | PUT | `/api/courses/:id` | Update course | Private | | DELETE | `/api/courses/:id` | Delete course (soft delete) | Private | | GET | `/api/courses/department/:department` | Get courses by department | Private | | GET | `/api/courses/search` | Search courses | Private | | GET | `/api/courses/:id/stats` | Get course statistics | Private | ## API Usage Examples ### Create a Student `http POST /api/students Authorization: Bearer <token> Content-Type: application/json { "name": "John Doe", "email": "john.doe@student.edu", "age": 20, "department": "Computer Science", "phone": "1234567890", "address": { "street": "123 Main St", "city": "Mumbai", "state": "Maharashtra", "zipCode": "400001", "country": "India" } } ` ### Create a Course `http POST /api/courses Authorization: Bearer <token> Content-Type: application/json { "title": "Introduction to Programming", "description": "Learn the basics of programming with Python", "credits": 3, "courseCode": "CS101", "department": "Computer Science", "instructor": { "name": "Dr. Jane Smith", "email": "jane.smith@university.edu" }, "duration": "3 months", "difficulty": "Beginner", "maxStudents": 50, "startDate": "2024-01-15", "endDate": "2024-04-15" } ` ### Get Students with Pagination and Filtering `http GET /api/students?page=1&limit=10&department=Computer Science&search=john Authorization: Bearer <token> ` ### Search Courses `http GET /api/courses/search?q=programming Authorization: Bearer <token> ` ### Upload Student Profile Picture `http POST /api/students Authorization: Bearer <token> Content-Type: multipart/form-data Form Data: - name: John Doe - email: john.doe@student.edu - age: 20 - department: Computer Science - profilePicture: [image file] ` ## Database Models ### Student Model `javascript { name: String (required, 2-50 chars), email: String (required, unique, valid email), age: Number (required, 16-100), department: String (required, enum), admissionDate: Date (default: now), enrolledCourses: [ObjectId] (ref: Course), profilePicture: String, phone: String (10 digits), address: { street: String, city: String, state: String, zipCode: String, country: String (default: India) }, isActive: Boolean (default: true), timestamps: true } ` ### Course Model `javascript { title: String (required, 3-100 chars), description: String (required, 10-500 chars), credits: Number (required, 1-6), courseCode: String (required, unique, format: CS101), department: String (required, enum), instructor: { name: String (required), email: String (required, valid email) }, duration: String (required, enum), difficulty: String (enum: Beginner/Intermediate/Advanced), prerequisites: [ObjectId] (ref: Course), maxStudents: Number (default: 50, 1-200), enrolledStudents: [ObjectId] (ref: Student), startDate: Date (required), endDate: Date (required), isActive: Boolean (default: true), syllabus: [{ week: Number, topic: String, description: String }], timestamps: true } ` ### User Model `javascript { username: String (required, unique, 3-20 chars), email: String (required, unique, valid email), password: String (required, min 6 chars, hashed), role: String (enum: admin/moderator, default: admin), isActive: Boolean (default: true), lastLogin: Date, timestamps: true } ` ## Query Parameters ### Students Endpoint - `page`: Page number (default: 1) - `limit`: Items per page (default: 10, max: 100) - `department`: Filter by department - `search`: Search in name and email ### Courses Endpoint - `page`: Page number (default: 1) - `limit`: Items per page (default: 10, max: 100) - `department`: Filter by department - `title`: Search in title and description ## Security Features - **JWT Authentication** with configurable expiration - **Password Hashing** using bcryptjs with salt rounds - **Input Validation** using express-validator - **Rate Limiting** to prevent abuse - **CORS** configuration for cross-origin requests - **Error Handling** without exposing sensitive information - **File Upload Security** with type and size restrictions ## Logging The application uses Winston for comprehensive logging: - **Console Logging** for development - **File Logging** for production - **Error Logs** stored in `logs/error.log` - **Combined Logs** stored in `logs/combined.log` - **Database Logs** stored in `logs/database.log` ## Testing the API ### Using the Seeded Data After running `npm run seed`, you can use these credentials: **Admin Login:** - Email: `admin@example.com` - Password: `admin123` **Sample Students:** - Alice Johnson (Computer Science) - Bob Smith (Computer Science) - Carol Williams (Electronics) - David Brown (Mechanical) - Eva Davis (IT) **Sample Courses:** - CS101: Introduction to Computer Science - CS201: Data Structures and Algorithms - CS301: Database Management Systems - ECE101: Digital Electronics - ME201: Thermodynamics ### Health Check `http GET /api/health ` ## Deployment ### Environment Variables for Production `env NODE_ENV=production PORT=5000 MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/student_management JWT_SECRET=your_production_jwt_secret_very_long_and_secure JWT_EXPIRE=7d ` ### Docker Deployment (Optional) `dockerfile FROM node:18-alpine WORKDIR /app COPY package*.json ./ RUN npm ci --only=production COPY . . EXPOSE 5000 CMD ["npm", "start"] ` ## Contributing 1. Fork the repository 2. Create a feature branch (`git checkout -b feature/amazing-feature`) 3. Commit your changes (`git commit -m 'Add some amazing feature'`) 4. Push to the branch (`git push origin feature/amazing-feature`) 5. Open a Pull Request ## License This project is licensed under the MIT License - see the LICENSE file for details. ## Support If you encounter any issues or have questions: 1. Check the logs in the `logs/` directory 2. Ensure all environment variables are properly set 3. Verify MongoDB connection 4. Check that all dependencies are installed ## API Response Format All API responses follow this consistent format: **Success Response:** `json { "success": true, "message": "Operation successful", "data": { // Response data here } } ` **Error Response:** `json { "success": false, "message": "Error description", "errors": [ // Validation errors (if any) ] } ` **Pagination Response:** `json { "success": true, "data": { "students": [...], "pagination": { "currentPage": 1, "totalPages": 5, "totalStudents": 50, "hasNextPage": true, "hasPrevPage": false } } } ` ``` ## **Detailed Explanation of the Student Management API** This comprehensive Student Management REST API is built with modern Node.js practices and includes all the features you requested. Here's a detailed breakdown: ### ** Architecture & Design Patterns** 1. **MVC Pattern**: Controllers handle business logic, models define data structure, routes handle HTTP requests 2. **Middleware Pattern**: Authentication, validation, error handling, and file upload middleware 3. **Repository Pattern**: Mongoose models with custom methods and static functions 4. **Clean Architecture**: Separation of concerns with dedicated folders for each layer ### ** Authentication System** - **JWT-based authentication** with configurable expiration - **Role-based access control** (admin/moderator roles) - **Password hashing** using bcryptjs with salt rounds - **Token verification middleware** for protected routes - **Profile management** with password change functionality ### ** Data Models & Relationships** 1. **Student Model**: Complete student information with course enrollment tracking 2. **Course Model**: Comprehensive course details with enrollment management 3. **User Model**: Admin/moderator authentication with role management 4. **Relationships**: Many-to-many between students and courses ### ** Advanced Features Implemented** 1. **Search & Filtering**: Text search for courses, department filtering for students 2. **Pagination**: Configurable page size with metadata (total pages, current page, etc.) 3. **File Upload**: Profile picture upload with validation and storage management 4. **Input Validation**: Comprehensive validation using express-validator 5. **Logging**: Winston for structured logging with file and console outputs 6. **Rate Limiting**: Protection against API abuse 7. **Error Handling**: Centralized error handling with proper HTTP status codes ### ** Security Features** - **Input sanitization** and validation - **File upload restrictions** (type, size) - **Rate limiting** to prevent abuse - **CORS configuration** for cross-origin requests - **Environment variable protection** - **Soft delete** implementation for data integrity ### ** Performance Optimizations** - **Database indexing** for frequently queried fields - **Pagination** to limit data transfer - **Connection pooling** for MongoDB - **Efficient queries** with population and projection ### ** Testing & Development** - **Data seeding utility** for quick setup - **Environment configuration** for different stages - **Comprehensive logging** for debugging - **Health check endpoint** for monitoring This API provides a solid foundation for a student management system and can be easily extended with additional features like notifications, grading systems, or reporting capabilities.
